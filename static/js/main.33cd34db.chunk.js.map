{"version":3,"sources":["components/personalSelectedMovie.js","components/moviePanel.js","components/suggestionsQueryPanel.js","api/omdbAPI.js","App.js","reportWebVitals.js","index.js"],"names":["PersonalSelectedMovie","className","this","props","movie","Title","imdbID","onClick","e","removeSelectedMovie","React","Component","MoviePanel","state","poster","Poster","title","type","Type","year","Year","id","src","alt","addToSelectedMovies","SuggestionsQueryPanel","updateState","console","log","copyState","movieList","selectedMovies","i","Object","keys","length","Genre","split","map","genre","Genres","includes","push","Language","language","Languages","setState","submitQuery","event","preventDefault","gengreChoice","document","getElementById","value","languageChoice","movieSuggestionResult","filter","hasGenre","hasLanguage","ReleasedYears","self","window","onload","el","addEventListener","closeBtn","onSubmit","defaultValue","query","a","$","ajax","url","dataType","cache","results","error","imdbId","App","handleChangeMovieQuery","movieQuery","target","handleSubmit","searchWithTitel","then","Response","movies","Search","alert","movieId","some","searchWithId","result","index","findIndex","m","splice","suggestMoviesBtn","x","style","width","onChange","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.33cd34db.chunk.js","sourcesContent":["import React from 'react';\n\nclass PersonalSelectedMovie extends React.Component {\n\n  // TODO do some css\n  \n  render() {\n    return (\n      <div className=\"span-2\">\n        <h6 key={this.props.movie.imdbID}>{this.props.movie.Title}</h6>\n        <button onClick={(e) => this.props.removeSelectedMovie(this.props.movie.imdbID, e)}>Remove</button>\n      </div>\n    );\n  }  \n}\n\nexport default PersonalSelectedMovie;\n","import React from 'react';\nimport './moviePanel.css';\n\nclass MoviePanel extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      poster: props.movie.Poster,\n      title: props.movie.Title,\n      type: props.movie.Type,\n      year: props.movie.Year,\n      id: props.movie.imdbID\n    };\n  }\n\n  render() {\n    return (\n      <div className=\"owl-item\">\n        <img src={this.state.poster} alt={this.state.title}></img>\n        <h4> {this.state.title} </h4>\n        <div className=\"submit-wrapper\"> <p onClick={() => {this.props.addToSelectedMovies(this.state.id)}}>Add to my list</p> </div>\n      </div>\n    );\n  }  \n}\n\nexport default MoviePanel;\n","import React from 'react';\nimport './suggestionsQueryPanel.css'\n\nclass SuggestionsQueryPanel extends React.Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      Genres: [],\n      ReleasedYears: [],\n      Languages: [],\n      movieSuggestionResult: []\n    };\n    \n    var self = this;\n    window.onload = function() {\n      const el = document.getElementById(\"suggestMovies\")\n      if (el) el.addEventListener(\"transitionrun\", function(){\n        self.updateState();\n      });\n    }\n  }\n\n  updateState = () => {\n    console.log(this.props);\n\n    var copyState = {...this.state};\n    const movieList = this.props.selectedMovies;\n    if (movieList === []) return;\n\n    for (var i = 0; i < Object.keys(movieList).length; i++){\n      movieList[i].Genre.split(\", \").map(genre => {\n        if (!copyState.Genres.includes(genre) && genre !== \"N/A\") copyState.Genres.push(genre);\n        return genre;\n      })\n\n      // BUGGED to many itteration of vallue also can change to Released\n      // const year = movieList[i].Year;\n      // if (!copyState.Years.includes(year)) copyState.Years.push(year);\n\n      const language = movieList[i].Language;\n      language.split(\", \").map(language => {\n        if (!copyState.Languages.includes(language) && language !== \"N/A\") copyState.Languages.push(language);\n        return language;\n      })\n    \n    }\n    this.setState(copyState);\n  }\n\n  submitQuery = (event) => {\n    event.preventDefault();\n    // TODO check if N/A\n    // CHeck if it's viable\n    console.log(\"sumbit query\")\n\n    const gengreChoice = document.getElementById(\"genre-choice\").value\n    // const yearChoice = document.getElementById(\"year-choice\").value\n    const languageChoice = document.getElementById(\"language-choice\").value\n    \n    const movieList = this.props.selectedMovies;\n\n    const movieSuggestionResult = movieList.filter(movie => {\n      var hasGenre = true;\n      var hasLanguage = true;\n\n      if (gengreChoice !== \"nvt\" && movie.Genre !== \"N/A\") {\n        hasGenre = movie.Genre.split(\", \").includes(gengreChoice);\n      }\n      if (languageChoice !== \"nvt\" && movie.Language !== \"N/A\") {\n        hasLanguage = movie.Language.split(\", \").includes(languageChoice);\n      }\n      if (hasGenre && hasLanguage) return true;\n      return false;\n    })\n\n    // TODO make it so it only saves 3 movies max\n    const copyState = {...this.state};\n    copyState.movieSuggestionResult = movieSuggestionResult;\n    this.setState(copyState);\n  }\n\n  render() {\n    return (\n      <div id=\"suggestMovies\" className=\"overlay\">\n        <div className=\"closebtn\" onClick={() => this.props.closeBtn()}></div>\n\n        <form onSubmit={this.submitQuery}>\n\n          <select id=\"genre-choice\">\n            <option defaultValue>nvt</option>\n            {this.state.Genres\n              .map(genre => \n                <option key={genre} value={genre}>{genre}</option>\n                )\n              }\n          </select>\n          <select id=\"year-choice\">\n            <option defaultValue>nvt</option>\n            {this.state.ReleasedYears\n              .map(year => \n                <option key={year} value={year}>{year}</option>\n                )\n              }\n          </select>\n          <select id=\"language-choice\">\n            <option defaultValue>nvt</option>\n            {this.state.Languages\n              .map(language => \n                <option key={language} value={language}>{language}</option>\n                )\n              }\n          </select>\n          <button type=\"submit\">start</button>\n        </form>\n        \n        {\n          this.state.movieSuggestionResult.length !==0 ? this.state.movieSuggestionResult.map(movie => \n            <h2 id={movie.imdbID} className=\"overlay-content\">{movie.Title}</h2>\n          ) : <h2 id=\"empty\" className=\"overlay-content\">No match found</h2>\n        }\n      </div>\n    );\n  }  \n}\n\nexport default SuggestionsQueryPanel;\n","// http://www.omdbapi.com/?i=tt3896198&apikey=a455290f\n\nimport $ from 'jquery'\n\n//IMDB will only return a maximum of 8 movies\nexport async function searchWithTitel(query) {\n  try {\n    const results = await $.ajax({\n      url: 'http://www.omdbapi.com/?apikey=a455290f&s=' + query,\n      dataType: 'json',\n      cache: true,\n    });\n    return results;\n  } catch (err) {\n    console.error(err);\n  }\n}\n\nexport async function searchWithId(imdbId) {\n  try {\n    const results = await $.ajax({\n      url: 'http://www.omdbapi.com/?apikey=a455290f&i=' + imdbId,\n      dataType: 'json',\n      cache: true,\n    });\n    return results;\n  } catch (err) {\n    console.error(err);\n  }\n}","import React from 'react';\nimport './App.css';\n\nimport PersonalSelectedMovie from './components/personalSelectedMovie'\nimport MoviePanel from './components/moviePanel'\nimport SuggestionsQueryPanel from './components/suggestionsQueryPanel'\n\nimport { searchWithTitel, searchWithId } from './api/omdbAPI';\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      movieQuery: '',\n      movies: [],\n      selectedMovies: []\n    };\n  }\n\n  handleChangeMovieQuery = (event) => {\n    const copyState = {...this.state};\n    copyState.movieQuery = event.target.value;\n    this.setState(copyState);\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (this.state.movieQuery === \"\") {\n      alert(\"Type the name of the movie\"); \n      return;\n    }\n\n    searchWithTitel(this.state.movieQuery)\n      .then(results => {\n        if (results.Response === \"True\") this.setState({movies: results.Search});\n        else {\n          //TODO Movies not found\n          alert(\"No movies found!\")\n        }\n      });\n  }\n\n  addToSelectedMovies = (movieId) => {\n    const isSelected = this.state.selectedMovies.some(movie => \n      movie.imdbID === movieId\n    );\n\n    if (!isSelected) {\n      searchWithId(movieId)\n        .then(result => {\n          const copyState = {...this.state};\n          copyState.selectedMovies.push(result);\n          this.setState({selectedMovies: copyState.selectedMovies});\n        });\n    }\n  }\n\n  removeSelectedMovie = (movieId, event) => {\n    event.preventDefault();\n\n    const copyState = {...this.state};\n    const index = copyState.selectedMovies.findIndex(m => m.imdbID === movieId);\n    copyState.selectedMovies.splice(index, 1);\n    this.setState(copyState)\n  }\n\n  suggestMoviesBtn = () => {\n    var x = document.getElementById(\"suggestMovies\");\n    if (x.style.width !== \"100%\") {\n      x.style.width = \"100%\";\n    } else {\n      x.style.width = \"0%\";\n    }\n  }\n  \n  render() {\n    return (\n      <div className=\"App\">\n        <form className=\"search-bar\" onSubmit={this.handleSubmit}>\n          <label>\n            Name:\n            <input type=\"text\" value={this.state.movieQuery} onChange={this.handleChangeMovieQuery} />\n          </label>\n          <input type=\"submit\" value=\"Submit\" />\n        </form>\n        \n        <div className=\"grid-container\">\n          <div className=\"grid-container-movie-panel\">\n            {\n              this.state.movies\n              .map(movie => \n                <MoviePanel key={movie.imdbID} movie={movie} addToSelectedMovies={this.addToSelectedMovies}/>\n              )\n            }\n          </div>\n\n          <div>\n            <button onClick={() => this.suggestMoviesBtn()}>suggest</button>\n            {\n              this.state.selectedMovies\n              .map(selectedMovies => \n                <PersonalSelectedMovie key={selectedMovies.imdbID} movie={selectedMovies} removeSelectedMovie={this.removeSelectedMovie}></PersonalSelectedMovie>\n              )\n            }\n          </div>\n        </div>\n\n        {/* <SuggestionsQueryPanel selectedMovies={[{Genre: 'fantasy, horror', Language: 'English'}]} closeBtn={this.suggestMoviesBtn}></SuggestionsQueryPanel> */}\n        <SuggestionsQueryPanel selectedMovies={this.state.selectedMovies} closeBtn={this.suggestMoviesBtn}></SuggestionsQueryPanel>\n\n      </div>\n    );\n  }  \n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}